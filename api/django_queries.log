(0.002) SELECT COUNT(*) FROM (SELECT "property"."id" AS "col1" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 50) subquery; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.000) SELECT "property"."id", "property"."property_id", "property"."property_url", "property"."scraped_before", "property"."un_published", "property"."archived", "property"."bad_data", "property"."removed", "property"."stc", "property"."property_data_id" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 50; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.001) SELECT COUNT(*) FROM (SELECT "property"."id" AS "col1" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 500) subquery; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.000) SELECT "property"."id", "property"."property_id", "property"."property_url", "property"."scraped_before", "property"."un_published", "property"."archived", "property"."bad_data", "property"."removed", "property"."stc", "property"."property_data_id" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 133; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.002) SELECT COUNT(*) FROM (SELECT "property"."id" AS "col1" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 500) subquery; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.000) SELECT "property"."id", "property"."property_id", "property"."property_url", "property"."scraped_before", "property"."un_published", "property"."archived", "property"."bad_data", "property"."removed", "property"."stc", "property"."property_data_id" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 133; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.002) SELECT COUNT(*) FROM (SELECT "property"."id" AS "col1" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 500) subquery; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.000) SELECT "property"."id", "property"."property_id", "property"."property_url", "property"."scraped_before", "property"."un_published", "property"."archived", "property"."bad_data", "property"."removed", "property"."stc", "property"."property_data_id" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 133; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.002) SELECT COUNT(*) FROM (SELECT "property"."id" AS "col1" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 500) subquery; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.000) SELECT "property"."id", "property"."property_id", "property"."property_url", "property"."scraped_before", "property"."un_published", "property"."archived", "property"."bad_data", "property"."removed", "property"."stc", "property"."property_data_id" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 133; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.002) SELECT COUNT(*) FROM (SELECT "property"."id" AS "col1" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 500) subquery; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.000) SELECT "property"."id", "property"."property_id", "property"."property_url", "property"."scraped_before", "property"."un_published", "property"."archived", "property"."bad_data", "property"."removed", "property"."stc", "property"."property_data_id" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 133; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.001) SELECT COUNT(*) FROM (SELECT "property"."id" AS "col1" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 5000) subquery; args=(100000, 800000, 'RES', 'BUY'); alias=default
(0.000) SELECT "property"."id", "property"."property_id", "property"."property_url", "property"."scraped_before", "property"."un_published", "property"."archived", "property"."bad_data", "property"."removed", "property"."stc", "property"."property_data_id" FROM "property" INNER JOIN "property_data" ON ("property"."property_data_id" = "property_data"."id") WHERE ("property_data"."current_price" >= 100000 AND "property_data"."current_price" <= 800000 AND "property_data"."listing_type" = 'RES' AND "property_data"."transaction_type" = 'BUY' AND "property"."scraped_before") ORDER BY RAND() ASC LIMIT 133; args=(100000, 800000, 'RES', 'BUY'); alias=default
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "affiliation" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "affiliation_name" varchar(5000) NOT NULL UNIQUE); (params None)
CREATE TABLE "agent_affiliation" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "affiliation_id_id" bigint NOT NULL); (params None)
CREATE TABLE "business type" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(50) NOT NULL UNIQUE, "use_class" varchar(5000) NULL, "sector" varchar(5000) NULL); (params None)
CREATE TABLE "epc" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(50) NOT NULL UNIQUE, "epc_url" varchar(200) NULL, "epc_caption" varchar(5000) NULL, "epc_current" integer NULL, "epc_potential" integer NULL, "ei_url" varchar(200) NULL, "ei_caption" varchar(5000) NULL, "ei_current" integer NULL, "ei_potential" integer NULL); (params None)
CREATE TABLE "estate_agent" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "agent_type" varchar(5000) NOT NULL, "agent_url" varchar(200) NOT NULL, "agent_url_type" varchar(5000) NOT NULL, "agent_name" varchar(5000) NOT NULL, "branch_name" varchar(5000) NULL, "agent_description" varchar(5000) NOT NULL, "developer" boolean NOT NULL); (params None)
CREATE TABLE "layout" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(50) NOT NULL UNIQUE, "bedrooms" integer NOT NULL, "bathrooms" integer NULL, "size" integer NULL); (params None)
CREATE TABLE "letting info" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(50) NOT NULL UNIQUE, "let_available_date" date NULL, "deposit" integer NULL, "minimum_tenancy_length" integer NULL, "let_type" varchar(12) NULL, "furnishing_type" varchar(50) NULL); (params None)
CREATE TABLE "location" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(50) NOT NULL UNIQUE, "address" varchar(5000) NOT NULL, "country" varchar(50) NULL, "postcode" varchar(9) NOT NULL, "latitude" numeric(50, 10) NULL, "longitude" numeric(50, 10) NULL); (params None)
CREATE TABLE "ownership" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(50) NOT NULL UNIQUE, "shared_ownership" boolean NOT NULL, "ownership_percentage" integer NULL, "rent_price" integer NULL, "rent_frequency" varchar(50) NOT NULL); (params None)
CREATE TABLE "property_data" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(50) NOT NULL UNIQUE, "property_url" varchar(200) NOT NULL, "listing_type" varchar(3) NOT NULL, "transaction_type" varchar(3) NOT NULL, "virtual_tour" boolean NOT NULL, "auction" boolean NOT NULL, "retirement" boolean NOT NULL, "affordable_scheme" boolean NOT NULL, "property_type" varchar(50) NOT NULL, "property_sub_type" varchar(50) NOT NULL, "added_date" date NOT NULL, "letting_type" varchar(50) NOT NULL, "pre_owned" varchar(50) NOT NULL, "furnished" varchar(50) NOT NULL, "current_price" integer NOT NULL, "reduced" boolean NOT NULL, "online_viewing" boolean NOT NULL, "first_scraped" date NOT NULL, "agent_id" bigint NOT NULL, "business_type_id" bigint NULL, "epc_id" bigint NULL UNIQUE, "layout_id" bigint NOT NULL UNIQUE, "letting_info_id" bigint NULL UNIQUE, "location_id" bigint NOT NULL UNIQUE); (params None)
CREATE TABLE "station" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "station_name" varchar(5000) NOT NULL UNIQUE, "station_type" varchar(100) NOT NULL); (params None)
CREATE TABLE "tax" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(50) NOT NULL UNIQUE, "council_tax_exempt" boolean NOT NULL, "council_tax_included" boolean NOT NULL, "annual_ground_rent" integer NULL, "ground_rent_review_period_in_years" integer NULL, "ground_rent_percentage_increase" integer NULL, "annual_service_charge" integer NULL, "council_tax_band" varchar(50) NULL, "domestic_rates" integer NULL); (params None)
CREATE TABLE "text" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(50) NOT NULL UNIQUE, "description" text NOT NULL, "disclaimer" text NOT NULL, "auction_fees_disclaimer" text NULL, "guide_price_disclaimer" text NULL, "reserve_price_disclaimer" text NULL, "static_map_disclaimer_text" text NULL, "new_homes_brochure_disclaimer" text NOT NULL, "share_text" text NOT NULL, "share_description" text NOT NULL, "page_title" text NOT NULL, "short_description" text NOT NULL); (params None)
CREATE TABLE "station_distance" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "station_distance" numeric(50, 10) NOT NULL, "station_distance_unit" varchar(10) NOT NULL, "property_id_id" bigint NOT NULL, "station_id_id" bigint NOT NULL); (params None)
ALTER TABLE "property_data" ADD COLUMN "tax_id" bigint NOT NULL UNIQUE CONSTRAINT "property_data_tax_id_7fe3c155_fk_tax_id" REFERENCES "tax"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "property_data_tax_id_7fe3c155_fk_tax_id" IMMEDIATE; (params None)
ALTER TABLE "property_data" ADD COLUMN "text_id" bigint NOT NULL UNIQUE CONSTRAINT "property_data_text_id_f97d7023_fk_text_id" REFERENCES "text"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "property_data_text_id_f97d7023_fk_text_id" IMMEDIATE; (params None)
CREATE TABLE "property" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(50) NOT NULL UNIQUE, "property_url" varchar(200) NOT NULL, "scraped_before" boolean NOT NULL, "un_published" boolean NOT NULL, "archived" boolean NOT NULL, "bad_data" boolean NOT NULL, "removed" boolean NOT NULL, "stc" boolean NOT NULL, "property_data_id" bigint NULL UNIQUE); (params None)
ALTER TABLE "agent_affiliation" ADD COLUMN "agent_id_id" bigint NOT NULL CONSTRAINT "agent_affiliation_agent_id_id_b08ffa75_fk_estate_agent_id" REFERENCES "estate_agent"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "agent_affiliation_agent_id_id_b08ffa75_fk_estate_agent_id" IMMEDIATE; (params None)
CREATE TABLE "status" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "stc" boolean NOT NULL, "status_date" date NOT NULL, "property_id_id" bigint NOT NULL); (params None)
CREATE TABLE "room" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "room_name" varchar(5000) NULL, "room_description" varchar(5000) NULL, "room_width" numeric(7, 2) NULL, "room_length" numeric(7, 2) NULL, "room_unit" varchar(4) NULL, "room_dimension" varchar(50) NULL, "property_id_id" bigint NOT NULL); (params None)
CREATE TABLE "price" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" integer NOT NULL, "price_qualifier" varchar(50) NULL, "original_price" integer NOT NULL, "price_date" date NOT NULL, "property_id_id" bigint NOT NULL); (params None)
CREATE TABLE "premium_listing" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "featured_property" boolean NOT NULL, "premium_listing" boolean NOT NULL, "listing_date" date NOT NULL, "property_id_id" bigint NOT NULL); (params None)
CREATE TABLE "key_feature" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "feature" varchar(5000) NOT NULL, "property_id_id" bigint NOT NULL); (params None)
CREATE TABLE "image" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "image_url" varchar(200) NOT NULL, "image_caption" varchar(5000) NULL, "image_file" varchar(100) NULL, "property_id_id" bigint NOT NULL); (params None)
CREATE TABLE "floorplan" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "floorplan_url" varchar(200) NOT NULL, "floorplan_caption" varchar(5000) NULL, "floorplan_file" varchar(100) NULL, "property_id_id" bigint NOT NULL); (params None)
ALTER TABLE "agent_affiliation" ADD CONSTRAINT "agent_affiliation_affiliation_id_id_agent_id_id_7b756ea6_uniq" UNIQUE ("affiliation_id_id", "agent_id_id"); (params None)
CREATE INDEX "affiliation_affiliation_name_8ec62196_like" ON "affiliation" ("affiliation_name" varchar_pattern_ops); (params None)
ALTER TABLE "agent_affiliation" ADD CONSTRAINT "agent_affiliation_affiliation_id_id_72e153fe_fk_affiliation_id" FOREIGN KEY ("affiliation_id_id") REFERENCES "affiliation" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "agent_affiliation_affiliation_id_id_72e153fe" ON "agent_affiliation" ("affiliation_id_id"); (params None)
CREATE INDEX "business type_property_id_f70dd4ab_like" ON "business type" ("property_id" varchar_pattern_ops); (params None)
CREATE INDEX "epc_property_id_5154706e_like" ON "epc" ("property_id" varchar_pattern_ops); (params None)
ALTER TABLE "estate_agent" ADD CONSTRAINT "estate_agent_agent_name_branch_name_9d46c665_uniq" UNIQUE ("agent_name", "branch_name"); (params None)
CREATE INDEX "layout_property_id_86431091_like" ON "layout" ("property_id" varchar_pattern_ops); (params None)
CREATE INDEX "letting info_property_id_34380241_like" ON "letting info" ("property_id" varchar_pattern_ops); (params None)
CREATE INDEX "location_property_id_949d4c56_like" ON "location" ("property_id" varchar_pattern_ops); (params None)
CREATE INDEX "ownership_property_id_b7aebb6c_like" ON "ownership" ("property_id" varchar_pattern_ops); (params None)
ALTER TABLE "property_data" ADD CONSTRAINT "property_data_agent_id_665d2a5a_fk_estate_agent_id" FOREIGN KEY ("agent_id") REFERENCES "estate_agent" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "property_data" ADD CONSTRAINT "property_data_business_type_id_cb32d816_fk_business type_id" FOREIGN KEY ("business_type_id") REFERENCES "business type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "property_data" ADD CONSTRAINT "property_data_epc_id_ad6f0990_fk_epc_id" FOREIGN KEY ("epc_id") REFERENCES "epc" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "property_data" ADD CONSTRAINT "property_data_layout_id_8898db14_fk_layout_id" FOREIGN KEY ("layout_id") REFERENCES "layout" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "property_data" ADD CONSTRAINT "property_data_letting_info_id_424111a6_fk_letting info_id" FOREIGN KEY ("letting_info_id") REFERENCES "letting info" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "property_data" ADD CONSTRAINT "property_data_location_id_9e5a733e_fk_location_id" FOREIGN KEY ("location_id") REFERENCES "location" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "property_data_property_id_432dd75e_like" ON "property_data" ("property_id" varchar_pattern_ops); (params None)
CREATE INDEX "property_data_agent_id_665d2a5a" ON "property_data" ("agent_id"); (params None)
CREATE INDEX "property_data_business_type_id_cb32d816" ON "property_data" ("business_type_id"); (params None)
CREATE INDEX "station_station_name_2d4a9767_like" ON "station" ("station_name" varchar_pattern_ops); (params None)
CREATE INDEX "tax_property_id_5e1a8d0c_like" ON "tax" ("property_id" varchar_pattern_ops); (params None)
CREATE INDEX "text_property_id_d24e84fb_like" ON "text" ("property_id" varchar_pattern_ops); (params None)
ALTER TABLE "station_distance" ADD CONSTRAINT "station_distance_station_id_id_property_id_id_6a77e706_uniq" UNIQUE ("station_id_id", "property_id_id"); (params None)
ALTER TABLE "station_distance" ADD CONSTRAINT "station_distance_property_id_id_04d876d8_fk_property_data_id" FOREIGN KEY ("property_id_id") REFERENCES "property_data" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "station_distance" ADD CONSTRAINT "station_distance_station_id_id_271c9acd_fk_station_id" FOREIGN KEY ("station_id_id") REFERENCES "station" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "station_distance_property_id_id_04d876d8" ON "station_distance" ("property_id_id"); (params None)
CREATE INDEX "station_distance_station_id_id_271c9acd" ON "station_distance" ("station_id_id"); (params None)
ALTER TABLE "property" ADD CONSTRAINT "property_property_data_id_675331dd_fk_property_data_id" FOREIGN KEY ("property_data_id") REFERENCES "property_data" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "property_property_id_9ec4f8b0_like" ON "property" ("property_id" varchar_pattern_ops); (params None)
CREATE INDEX "agent_affiliation_agent_id_id_b08ffa75" ON "agent_affiliation" ("agent_id_id"); (params None)
ALTER TABLE "status" ADD CONSTRAINT "status_stc_property_id_id_b57bf802_uniq" UNIQUE ("stc", "property_id_id"); (params None)
ALTER TABLE "status" ADD CONSTRAINT "status_property_id_id_2cce2295_fk_property_id" FOREIGN KEY ("property_id_id") REFERENCES "property" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "status_property_id_id_2cce2295" ON "status" ("property_id_id"); (params None)
ALTER TABLE "room" ADD CONSTRAINT "room_property_id_id_room_name_room_description_0cabb56a_uniq" UNIQUE ("property_id_id", "room_name", "room_description"); (params None)
ALTER TABLE "room" ADD CONSTRAINT "room_property_id_id_202e65e0_fk_property_id" FOREIGN KEY ("property_id_id") REFERENCES "property" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "room_property_id_id_202e65e0" ON "room" ("property_id_id"); (params None)
ALTER TABLE "price" ADD CONSTRAINT "price_price_property_id_id_cde6e306_uniq" UNIQUE ("price", "property_id_id"); (params None)
ALTER TABLE "price" ADD CONSTRAINT "price_property_id_id_ce170d21_fk_property_id" FOREIGN KEY ("property_id_id") REFERENCES "property" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "price_property_id_id_ce170d21" ON "price" ("property_id_id"); (params None)
ALTER TABLE "premium_listing" ADD CONSTRAINT "premium_listing_property_id_id_listing_date_272d8480_uniq" UNIQUE ("property_id_id", "listing_date"); (params None)
ALTER TABLE "premium_listing" ADD CONSTRAINT "premium_listing_property_id_id_c3156a38_fk_property_id" FOREIGN KEY ("property_id_id") REFERENCES "property" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "premium_listing_property_id_id_c3156a38" ON "premium_listing" ("property_id_id"); (params None)
ALTER TABLE "key_feature" ADD CONSTRAINT "key_feature_feature_property_id_id_a4ae6bb7_uniq" UNIQUE ("feature", "property_id_id"); (params None)
ALTER TABLE "key_feature" ADD CONSTRAINT "key_feature_property_id_id_6c369176_fk_property_id" FOREIGN KEY ("property_id_id") REFERENCES "property" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "key_feature_property_id_id_6c369176" ON "key_feature" ("property_id_id"); (params None)
ALTER TABLE "image" ADD CONSTRAINT "image_property_id_id_image_url_d68d64db_uniq" UNIQUE ("property_id_id", "image_url"); (params None)
ALTER TABLE "image" ADD CONSTRAINT "image_property_id_id_1681b78b_fk_property_id" FOREIGN KEY ("property_id_id") REFERENCES "property" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "image_property_id_id_1681b78b" ON "image" ("property_id_id"); (params None)
ALTER TABLE "floorplan" ADD CONSTRAINT "floorplan_property_id_id_floorplan_url_e3d5fd75_uniq" UNIQUE ("property_id_id", "floorplan_url"); (params None)
ALTER TABLE "floorplan" ADD CONSTRAINT "floorplan_property_id_id_93d45430_fk_property_id" FOREIGN KEY ("property_id_id") REFERENCES "property" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "floorplan_property_id_id_93d45430" ON "floorplan" ("property_id_id"); (params None)
ALTER TABLE "text" ALTER COLUMN "description" DROP NOT NULL; (params None)
ALTER TABLE "letting info" ALTER COLUMN "let_type" TYPE varchar(30); (params None)
ALTER TABLE "affiliation" ALTER COLUMN "affiliation_name" TYPE varchar(255); (params None)
ALTER TABLE "business type" ALTER COLUMN "property_id" TYPE varchar(15); (params None)
ALTER TABLE "business type" ALTER COLUMN "sector" TYPE varchar(255); (params None)
ALTER TABLE "business type" ALTER COLUMN "use_class" TYPE varchar(255); (params None)
ALTER TABLE "epc" ALTER COLUMN "ei_caption" TYPE varchar(255); (params None)
ALTER TABLE "epc" ALTER COLUMN "epc_caption" TYPE varchar(255); (params None)
ALTER TABLE "epc" ALTER COLUMN "property_id" TYPE varchar(15); (params None)
ALTER TABLE "estate_agent" ALTER COLUMN "agent_description" TYPE varchar(255); (params None)
ALTER TABLE "estate_agent" ALTER COLUMN "agent_name" TYPE varchar(255); (params None)
ALTER TABLE "estate_agent" ALTER COLUMN "agent_type" TYPE varchar(255); (params None)
ALTER TABLE "estate_agent" ALTER COLUMN "agent_url_type" TYPE varchar(255); (params None)
ALTER TABLE "estate_agent" ALTER COLUMN "branch_name" TYPE varchar(255); (params None)
ALTER TABLE "floorplan" ALTER COLUMN "floorplan_caption" TYPE varchar(255); (params None)
ALTER TABLE "image" ALTER COLUMN "image_caption" TYPE varchar(255); (params None)
ALTER TABLE "key_feature" ALTER COLUMN "feature" TYPE text USING "feature"::text; (params None)
ALTER TABLE "layout" ALTER COLUMN "property_id" TYPE varchar(15); (params None)
ALTER TABLE "letting info" ALTER COLUMN "property_id" TYPE varchar(15); (params None)
ALTER TABLE "location" ALTER COLUMN "address" TYPE varchar(255); (params None)
ALTER TABLE "location" ALTER COLUMN "property_id" TYPE varchar(15); (params None)
ALTER TABLE "ownership" ALTER COLUMN "property_id" TYPE varchar(15); (params None)
ALTER TABLE "ownership" ALTER COLUMN "rent_frequency" TYPE varchar(30); (params None)
ALTER TABLE "price" ALTER COLUMN "original_price" TYPE boolean USING "original_price"::boolean; (params None)
ALTER TABLE "property" ALTER COLUMN "property_id" TYPE varchar(15); (params None)
ALTER TABLE "property_data" ALTER COLUMN "furnished" TYPE varchar(30); (params None)
ALTER TABLE "property_data" ALTER COLUMN "letting_type" TYPE varchar(30); (params None)
ALTER TABLE "property_data" ALTER COLUMN "pre_owned" TYPE varchar(30); (params None)
ALTER TABLE "property_data" ALTER COLUMN "property_id" TYPE varchar(15); (params None)
ALTER TABLE "property_data" ALTER COLUMN "property_sub_type" TYPE varchar(30); (params None)
ALTER TABLE "property_data" ALTER COLUMN "property_type" TYPE varchar(30); (params None)
ALTER TABLE "room" ALTER COLUMN "room_description" TYPE varchar(255); (params None)
ALTER TABLE "room" ALTER COLUMN "room_name" TYPE varchar(255); (params None)
ALTER TABLE "station" ALTER COLUMN "station_name" TYPE varchar(255); (params None)
ALTER TABLE "station_distance" ALTER COLUMN "station_distance" TYPE numeric(20, 10); (params None)
ALTER TABLE "tax" ALTER COLUMN "property_id" TYPE varchar(15); (params None)
ALTER TABLE "text" ALTER COLUMN "property_id" TYPE varchar(15); (params None)
ALTER TABLE "estate_agent" ALTER COLUMN "agent_description" TYPE text USING "agent_description"::text; (params None)
ALTER TABLE "property_data" ALTER COLUMN "furnished" TYPE varchar(50); (params None)
ALTER TABLE "property_data" ALTER COLUMN "property_sub_type" TYPE varchar(35); (params None)
ALTER TABLE "property_data" ALTER COLUMN "property_type" TYPE varchar(35); (params None)
ALTER TABLE "room" ALTER COLUMN "room_description" TYPE text USING "room_description"::text; (params None)
ALTER TABLE "epc" ADD COLUMN "epc_scraped" boolean DEFAULT false NOT NULL; (params None)
ALTER TABLE "epc" ALTER COLUMN "epc_scraped" DROP DEFAULT; (params None)
ALTER TABLE "image" ADD COLUMN "image_scraped" boolean DEFAULT false NOT NULL; (params None)
ALTER TABLE "image" ALTER COLUMN "image_scraped" DROP DEFAULT; (params None)
ALTER TABLE "epc" ADD COLUMN "ei_image" varchar(100) NULL; (params None)
ALTER TABLE "epc" ADD COLUMN "epc_image" varchar(100) NULL; (params None)
ALTER TABLE "ownership" ALTER COLUMN "rent_frequency" DROP NOT NULL; (params None)
ALTER TABLE "property_data" ALTER COLUMN "property_type" DROP NOT NULL; (params None)
ALTER TABLE "ownership" ALTER COLUMN "shared_ownership" DROP NOT NULL; (params None)
ALTER TABLE "estate_agent" ALTER COLUMN "agent_url" TYPE varchar(300); (params None)
ALTER TABLE "floorplan" ALTER COLUMN "floorplan_url" TYPE varchar(300); (params None)
ALTER TABLE "image" ALTER COLUMN "image_url" TYPE varchar(300); (params None)
ALTER TABLE "property" ALTER COLUMN "property_url" TYPE varchar(300); (params None)
ALTER TABLE "property_data" ALTER COLUMN "property_url" TYPE varchar(300); (params None)
ALTER TABLE "letting info" ALTER COLUMN "furnishing_type" TYPE varchar(100); (params None)
ALTER TABLE "location" ALTER COLUMN "country" TYPE varchar(100); (params None)
ALTER TABLE "location" ALTER COLUMN "latitude" TYPE numeric(100, 10); (params None)
ALTER TABLE "location" ALTER COLUMN "longitude" TYPE numeric(100, 10); (params None)
ALTER TABLE "price" ALTER COLUMN "price_qualifier" TYPE varchar(100); (params None)
ALTER TABLE "property_data" ALTER COLUMN "furnished" TYPE varchar(100); (params None)
ALTER TABLE "room" ALTER COLUMN "room_dimension" TYPE varchar(100); (params None)
ALTER TABLE "tax" ALTER COLUMN "council_tax_band" TYPE varchar(100); (params None)
ALTER TABLE "location" ALTER COLUMN "latitude" TYPE numeric(50, 10); (params None)
ALTER TABLE "location" ALTER COLUMN "longitude" TYPE numeric(50, 10); (params None)
ALTER TABLE "epc" ALTER COLUMN "epc_url" TYPE varchar(300); (params None)
ALTER TABLE "ownership" ALTER COLUMN "rent_frequency" TYPE varchar(50); (params None)
ALTER TABLE "epc" ALTER COLUMN "ei_url" TYPE varchar(300); (params None)
ALTER TABLE "property_data" ALTER COLUMN "property_sub_type" DROP NOT NULL; (params None)
ALTER TABLE "key_feature" ADD COLUMN "word_count" integer DEFAULT 12 NOT NULL; (params None)
ALTER TABLE "key_feature" ALTER COLUMN "word_count" DROP DEFAULT; (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
ALTER TABLE "image" ADD COLUMN "image_height" integer NULL; (params None)
ALTER TABLE "image" ADD COLUMN "image_width" integer NULL; (params None)
ALTER TABLE "text" ADD COLUMN "description_length" integer NULL; (params None)
ALTER TABLE "image" ADD COLUMN "image_dimension" integer NULL; (params None)
ALTER TABLE "estate_agent" ADD COLUMN "agent_full_name" varchar(255) NULL; (params None)
CREATE TABLE "backend_imagedimensions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(15) NOT NULL UNIQUE, "total_pixels" integer NOT NULL); (params None)
ALTER TABLE "property_data" ADD COLUMN "total_pixels_id" bigint NULL UNIQUE CONSTRAINT "property_data_total_pixels_id_07c1f82a_fk_backend_i" REFERENCES "backend_imagedimensions"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "property_data_total_pixels_id_07c1f82a_fk_backend_i" IMMEDIATE; (params None)
CREATE INDEX "backend_imagedimensions_property_id_0a6c7ffc_like" ON "backend_imagedimensions" ("property_id" varchar_pattern_ops); (params None)
ALTER TABLE "backend_imagedimensions" RENAME TO "image dimensions"; (params None)
ALTER TABLE "image dimensions" RENAME TO "image_dimensions"; (params None)
ALTER TABLE "image_dimensions" ADD COLUMN "avg_image_height" integer NULL; (params None)
ALTER TABLE "image_dimensions" ADD COLUMN "avg_image_width" integer NULL; (params None)
ALTER TABLE "image_dimensions" ADD COLUMN "num_images" integer NULL; (params None)
CREATE TABLE "backend_averagedistancefromstation" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(15) NOT NULL UNIQUE, "avg_distance" numeric(50, 10) NULL, "number_of_stations" integer NULL); (params None)
CREATE INDEX "backend_averagedistancefromstation_property_id_6fac90ac_like" ON "backend_averagedistancefromstation" ("property_id" varchar_pattern_ops); (params None)
ALTER TABLE "property_data" ADD COLUMN "avg_station_distance_id" bigint NULL UNIQUE CONSTRAINT "property_data_avg_station_distance_89b95e40_fk_backend_a" REFERENCES "backend_averagedistancefromstation"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "property_data_avg_station_distance_89b95e40_fk_backend_a" IMMEDIATE; (params None)
ALTER TABLE "backend_averagedistancefromstation" RENAME TO "average_station_distance"; (params None)
CREATE TABLE "ever_premium" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "property_id" varchar(15) NOT NULL UNIQUE, "ever_premium" numeric(50, 10) NULL, "ever_featured" integer NULL); (params None)
ALTER TABLE "business type" RENAME TO "business_type"; (params None)
ALTER TABLE "letting info" RENAME TO "letting_info"; (params None)
CREATE INDEX "ever_premium_property_id_a855efb2_like" ON "ever_premium" ("property_id" varchar_pattern_ops); (params None)
ALTER TABLE "ever_premium" ALTER COLUMN "ever_premium" TYPE integer USING "ever_premium"::integer; (params None)
ALTER TABLE "property_data" ADD COLUMN "ever_premium_id" bigint NULL UNIQUE CONSTRAINT "property_data_ever_premium_id_5b4956e4_fk_ever_premium_id" REFERENCES "ever_premium"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "property_data_ever_premium_id_5b4956e4_fk_ever_premium_id" IMMEDIATE; (params None)
ALTER TABLE "image_dimensions" DROP CONSTRAINT "backend_imagedimensions_property_id_key"; (params None)
ALTER TABLE "image_dimensions" ALTER COLUMN "property_id" DROP NOT NULL; (params None)
DROP INDEX IF EXISTS "image_dimensions_property_id_859b9d03_like"; (params None)
